import{u as d,j as e}from"./index-CQ2R6101.js";import{u as o,F as x,a as h}from"./index-C_wC8Lvt.js";import{a as c}from"./axios-B4uVmeYG.js";const m=s=>c.get(s).then(a=>a.data),N=()=>{const{data:s,error:a,mutate:i}=o("http://88.218.60.127:5678/category",m),l=d();if(a)return e.jsx("div",{children:"Failed to load categories"});if(!s)return e.jsx("div",{children:"Loading..."});const n=async t=>{try{const r=localStorage.getItem("token");await c.delete(`http://88.218.60.127:5678/category/delete-category/${t}`,{headers:{Authorization:`Bearer ${r}`}}),i()}catch(r){console.error("Error deleting category:",r)}};return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Categories"}),e.jsx("button",{onClick:()=>l("/add-category"),className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Add Category"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-800 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-1/4 py-2 px-4 text-left",children:"Name (RU)"}),e.jsx("th",{className:"w-1/4 py-2 px-4 text-left",children:"Image"}),e.jsx("th",{className:"w-1/2 py-2 px-4 text-left",children:"Description (RU)"}),e.jsx("th",{className:"py-2 px-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:s.map(({category:t})=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-4",children:t.name_ru}),e.jsx("td",{className:"py-2 px-4",children:e.jsx("img",{src:t.image,alt:t.name_tm,className:"w-16 h-16 object-cover"})}),e.jsxs("td",{className:"py-2 px-4",children:[t.desc_ru.slice(0,100),"..."]}),e.jsxs("td",{className:"py-2 px-4 text-center",children:[e.jsx("button",{onClick:()=>l(`/edit-category/${t.id}`),className:"text-blue-500 hover:text-blue-700 mr-2",children:e.jsx(x,{})}),e.jsx("button",{onClick:()=>n(t.id),className:"text-red-500 hover:text-red-700",children:e.jsx(h,{})})]})]},t.id))})]})})]})};export{N as default};
