import{u as l,j as e}from"./index-CQ2R6101.js";import{u as i,F as c,a as o}from"./index-C_wC8Lvt.js";import{a as d}from"./axios-B4uVmeYG.js";const x=async t=>{const r=localStorage.getItem("token");if(!r)throw new Error("Token not found");return(await d.get(t,{headers:{Authorization:`Bearer ${r}`}})).data},j=()=>{var n;const{data:t,error:r}=i("http://88.218.60.127:5678/game/admin/get-games",x),a=l();return r?e.jsx("div",{children:"Failed to load games"}):t?e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Games Page"}),e.jsx("button",{onClick:()=>a("/add-game"),className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Add Game"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-800 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-1/4 py-2 px-4 text-left",children:"Title"}),e.jsx("th",{className:"w-1/4 py-2 px-4 text-left",children:"Description"}),e.jsx("th",{className:"w-1/4 py-2 px-4 text-left",children:"Category"}),e.jsx("th",{className:"py-2 px-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:(n=t==null?void 0:t.games)==null?void 0:n.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-4",children:e.jsx("a",{href:s.site_url,target:"_blank",rel:"noopener noreferrer",children:s.title_en})}),e.jsx("td",{className:"py-2 px-4",children:s.desc_en}),e.jsx("td",{className:"py-2 px-4",children:s.category.name_en}),e.jsxs("td",{className:"py-2 px-4 text-center",children:[e.jsx("button",{onClick:()=>a(`/edit-game/${s.id}`),className:"text-blue-500 hover:text-blue-700 mr-2",children:e.jsx(c,{})}),e.jsx("button",{className:"text-red-500 hover:text-red-700",children:e.jsx(o,{})})]})]},s.id))})]})})]}):e.jsx("div",{children:"Loading..."})};export{j as default};
