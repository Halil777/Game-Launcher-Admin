import{u as l,j as e}from"./index-CQ2R6101.js";import{u as o,a as x,m as h}from"./index-C_wC8Lvt.js";const p=s=>fetch(s).then(r=>r.json()),d={ADVANCED:"bg-blue-100 text-blue-800 border border-blue-300",BASIC:"bg-green-100 text-green-800 border border-green-300",BUISNESS:"bg-red-100 text-red-800 border border-red-300",DEFAULT:"bg-gray-100 text-gray-800 border border-gray-300"},g=()=>{const s=l(),{data:r,error:a}=o("http://88.218.60.127:5678/pricing",p),i=()=>{s("/add-plan")},c=async t=>{const n=localStorage.getItem("token");if(!n){console.error("No token found");return}await fetch(`http://88.218.60.127:5678/pricing/delete-pricing/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}}),h("http://88.218.60.127:5678/pricing")};return a?e.jsx("div",{children:"Error loading data."}):r?e.jsxs("div",{className:"overflow-x-auto p-6 bg-white rounded shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Pricing Plans"}),e.jsx("button",{onClick:i,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add Plan"})]}),e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-800 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-1/4 py-2 px-4 text-left",children:"Title"}),e.jsx("th",{className:"w-1/4 py-2 px-4 text-left",children:"Description"}),e.jsx("th",{className:"w-1/4 py-2 px-4 text-left",children:"Price"}),e.jsx("th",{className:"w-1/4 py-2 px-4 text-left",children:"Client Type"}),e.jsx("th",{className:"py-2 px-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-4",children:t.title_en}),e.jsx("td",{className:"py-2 px-4",children:t.desc_en}),e.jsxs("td",{className:"py-2 px-4",children:[t.price," TMT"]}),e.jsx("td",{className:`py-2 px-4 rounded ${d[t.clientType]||d.DEFAULT}`,children:t.clientType}),e.jsx("td",{className:"py-2 px-4 text-center",children:e.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>c(t.id),children:e.jsx(x,{})})})]},t.id))})]})]}):e.jsx("div",{children:"Loading..."})};export{g as default};
