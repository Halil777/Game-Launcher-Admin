import{r as c,u as g,j as e}from"./index-CQ2R6101.js";import{a as i}from"./axios-B4uVmeYG.js";import{u as v,b as y,c as f}from"./index-C_wC8Lvt.js";const j=r=>i.get(r).then(l=>l.data),_=()=>{const{data:r,error:l}=v("http://88.218.60.127:5678/category",j),[a,u]=c.useState({server_name:"",server_port:0,server_host:"",server_username:"",server_password:"",display_host:"",display_port:"",speed:0,categoryId:0,type:"BUISNESS",location:"GLOBAL"}),[d,p]=c.useState(!1),m=g(),s=t=>{const{name:o,value:n}=t.target;u({...a,[o]:o==="server_port"||o==="speed"||o==="categoryId"?parseInt(n):n})},x=async t=>{t.preventDefault();const o=localStorage.getItem("token"),n=o?{Authorization:`Bearer ${o}`}:{};try{await i.post("http://88.218.60.127:5678/server/add-server",a,{headers:n}),m("/servers")}catch(b){console.error("Error adding server:",b)}};if(l)return e.jsx("div",{children:"Failed to load categories"});if(!r)return e.jsx("div",{children:"Loading categories..."});const h=r.map(t=>t.category);return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Global Server"}),e.jsxs("form",{onSubmit:x,className:"bg-white p-4 rounded shadow-md",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Server Name"}),e.jsx("input",{type:"text",name:"server_name",value:a.server_name,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Server Port"}),e.jsx("input",{type:"number",name:"server_port",value:a.server_port,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Server Host"}),e.jsx("input",{type:"text",name:"server_host",value:a.server_host,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Server Username"}),e.jsx("input",{type:"text",name:"server_username",value:a.server_username,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"mb-4 relative",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Server Password"}),e.jsx("input",{type:d?"text":"password",name:"server_password",value:a.server_password,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>p(!d),children:d?e.jsx(y,{}):e.jsx(f,{})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Display Host"}),e.jsx("input",{type:"text",name:"display_host",value:a.display_host,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Display Port"}),e.jsx("input",{type:"text",name:"display_port",value:a.display_port,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Speed"}),e.jsx("input",{type:"number",name:"speed",value:a.speed,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Category"}),e.jsxs("select",{name:"categoryId",value:a.categoryId,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"",children:"Select a Category"}),h.map(t=>e.jsx("option",{value:t.id,children:t.name_en},t.id))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Type"}),e.jsxs("select",{name:"type",value:a.type,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"BASIC",children:"Basic"}),e.jsx("option",{value:"BUISNESS",children:"Business"}),e.jsx("option",{value:"ADVANCED",children:"Advanced"})]})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Add Server"})]})]})};export{_ as default};
